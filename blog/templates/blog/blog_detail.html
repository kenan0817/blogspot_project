{% extends "layout.html" %}
{% load static %}

{% block title %}{{ article.title }} | BlogSpot{% endblock %}

{% block main %}

<main class="container my-5" style="margin-top:100px;">
  <div class="row justify-content-center">
    <div class="col-md-10 col-lg-8 col-xl-7">

      <!-- BAŞLIQ + META MƏLUMATLAR -->
      <h1 class="fw-bold mb-3">
        {{ article.title }}
      </h1>

      {% if article.subtitle %}
        <h2 class="h5 text-muted mb-3">
          {{ article.subtitle }}
        </h2>
      {% endif %}

      <p class="text-muted mb-4">
        Müəllif:
        {% if article.author %}
          {{ article.author }}
        {% else %}
          Naməlum
        {% endif %}
        · Tarix: {{ article.created_at|date:"d.m.Y" }}
        {% if article.updated_at %}
          · Yeniləndi: {{ article.updated_at|date:"d.m.Y H:i" }}
        {% endif %}
        · Baxış: {{ article.view_count }}
      </p>

      <!-- ŞƏKİL -->
      {% if article.image %}
        <div class="mb-4 d-flex justify-content-center">
          <img
            src="{{ article.image.url }}"
            alt="{{ article.title }}"
            class="img-fluid rounded"
            style="max-height: 380px; width: 100%; object-fit: cover;"
          >
        </div>
      {% endif %}

      <!-- MƏQALƏ MƏTNİ -->
      <article class="mb-5">
        {{ article.content|safe }}
      </article>

      <!-- TEQLƏR -->
      {% if article.tags.all %}
        <div class="mb-4">
          <strong>Teqlər:</strong>
          {% for tag in article.tags.all %}
            <a href="#" class="badge bg-secondary text-decoration-none me-1">
              {{ tag.name }}
            </a>
          {% empty %}
            <span class="text-muted">Teq yoxdur</span>
          {% endfor %}
        </div>
      {% endif %}

      <!-- GERİ QAYIT DÜYMƏSİ -->
      <div class="mt-5">
        <a href="{% url 'blog:blog_list' %}" class="btn btn-outline-primary">
          ← Bütün yazılara qayıt
        </a>
      </div>

    </div>
  </div>
</main>

{% endblock %}



